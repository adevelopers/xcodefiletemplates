# Observer -  Наблюдатель

#### Суть паттерна

Наблюдатель — это поведенческий паттерн проектирования, который создаёт механизм подписки, позволяющий одним объектам следить и реагировать на события, происходящие в других объектах.

### Проблема ###

Представьте, что у вас есть два объекта: Покупатель и Магазин. В магазин вот-вот должны завезти новый товар, который интересен покупателю.

Покупатель может каждый день ходить в магазин, чтобы проверить наличие товара. Но при этом он будет тратить драгоценное время и злиться.

С другой стороны, магазин может разослать спам каждому своему покупателю. Многих это расстроит, так как товар специфический и не всем он нужен.

Получается конфликт: либо один объект работает неэффективно, тратя ресурсы на периодические проверки, либо второй объект оповещает слишком широкий круг пользователей, тоже тратя ресурсы впустую.

### Решение ###

Давайте будем называть объекты, которые содержат интересное состояние Издателями. А другие объекты, которым интересно это состояние давайте звать Подписчиками.

Паттерн Наблюдатель предлагает издателям хранить список подписчиков, которым интересно наблюдать за их состоянием. Причём, издатели не должны вести этот список сами, а предоставить возможность самим подписчикам вписывать себя в этот список или вычёркиваться оттуда.

Теперь самое интересное. Каждый раз, когда в издателе будет происходить что-нибудь, он должен проходиться по списку своих подписчиков и оповещать их, вызывая определённый метод их объектов.

Для издателя не важно, какого конкретно подписчика он оповещает, так как все подписчики договорились иметь один и тот же метод оповещения, то есть иметь общий интерфейс.

Увидев как складно всё работает, вы можете выделить общий интерфейс и для всех издателей. Он получит методы подписки и отписки. После этого подписчики смогут однотипно работать с издателями, а также получать оповещения от них через один и тот же метод.  


